{"ast":null,"code":"import _regeneratorRuntime from\"K:/machine/rest_api/sync/html/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"K:/machine/rest_api/sync/html/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"K:/machine/rest_api/sync/html/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from'axios';import SignUpForm from\"./SignUpForm\";import{Alert}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BASE_URL=\"http://localhost:3333/signup\";var Signup=function Signup(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),res=_React$useState2[0],setRes=_React$useState2[1];var onSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,userName,userPass){var params,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setRes('');// ただのjson body が空になる。ので以下を使用\nparams=new URLSearchParams();params.append('email',email);params.append('username',userName);params.append('password',userPass);// Send POST request;\n_context.next=7;return axios.post(BASE_URL,params).then(function(response){console.log(response.data);setRes(response.data);});case 7:result=_context.sent;case 8:case\"end\":return _context.stop();}},_callee);}));return function onSignUp(_x,_x2,_x3){return _ref.apply(this,arguments);};}();/* res に値が入ったら */return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:res.status===\"NG\"&&/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:\"This is a warning alert\\u2014check it out!\"},\"warning\")}),/*#__PURE__*/_jsx(SignUpForm,{onSignUp:onSignUp,res:res})]});};export default Signup;","map":{"version":3,"names":["React","axios","SignUpForm","Alert","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","BASE_URL","Signup","_React$useState","useState","_React$useState2","_slicedToArray","res","setRes","onSignUp","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","userName","userPass","params","result","wrap","_callee$","_context","prev","next","URLSearchParams","append","post","then","response","console","log","data","sent","stop","_x","_x2","_x3","apply","arguments","children","status","variant"],"sources":["K:/machine/rest_api/sync/html/client/src/components/Signup.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport SignUpForm from \"./SignUpForm\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst BASE_URL = \"http://localhost:3333/signup\";\r\n\r\nconst Signup = () => {\r\n\r\n    const [res, setRes] = React.useState(\"\");\r\n\r\n    const onSignUp = async(email, userName, userPass) => {\r\n        setRes('');\r\n        // ただのjson body が空になる。ので以下を使用\r\n        const params = new URLSearchParams();\r\n        params.append('email', email);\r\n        params.append('username', userName);\r\n        params.append('password', userPass);\r\n        // Send POST request;\r\n        const result = await axios.post(BASE_URL, params)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            setRes(response.data);\r\n        })\r\n    }\r\n\r\n    /* res に値が入ったら */\r\n    return (\r\n        <>\r\n        <div>\r\n        {res.status === \"NG\" &&\r\n            <Alert key=\"warning\" variant=\"warning\">\r\n                This is a warning alert—check it out!\r\n            </Alert>\r\n        }\r\n        </div>\r\n        <SignUpForm onSignUp={onSignUp} res={res} />\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Signup;"],"mappings":"8XAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,QAAQ,CAAG,8BAA8B,CAE/C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CAEjB,IAAAC,eAAA,CAAsBZ,KAAK,CAACa,QAAQ,CAAC,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAjCI,GAAG,CAAAF,gBAAA,IAAEG,MAAM,CAAAH,gBAAA,IAElB,GAAM,CAAAI,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,KAAK,CAAEC,QAAQ,CAAEC,QAAQ,MAAAC,MAAA,CAAAC,MAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5ChB,MAAM,CAAC,EAAE,CAAC,CACV;AACMU,MAAM,CAAG,GAAI,CAAAO,eAAe,CAAC,CAAC,CACpCP,MAAM,CAACQ,MAAM,CAAC,OAAO,CAAEX,KAAK,CAAC,CAC7BG,MAAM,CAACQ,MAAM,CAAC,UAAU,CAAEV,QAAQ,CAAC,CACnCE,MAAM,CAACQ,MAAM,CAAC,UAAU,CAAET,QAAQ,CAAC,CACnC;AAAAK,QAAA,CAAAE,IAAA,SACqB,CAAAhC,KAAK,CAACmC,IAAI,CAAC1B,QAAQ,CAAEiB,MAAM,CAAC,CAChDU,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BxB,MAAM,CAACqB,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAC,CAAC,QAJIb,MAAM,CAAAG,QAAA,CAAAW,IAAA,yBAAAX,QAAA,CAAAY,IAAA,MAAApB,OAAA,GAKf,kBAbK,CAAAL,QAAQA,CAAA0B,EAAA,CAAAC,GAAA,CAAAC,GAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAab,CAED,iBACA,mBACIvC,KAAA,CAAAF,SAAA,EAAA0C,QAAA,eACA5C,IAAA,QAAA4C,QAAA,CACCjC,GAAG,CAACkC,MAAM,GAAK,IAAI,eAChB7C,IAAA,CAACF,KAAK,EAAegD,OAAO,CAAC,SAAS,CAAAF,QAAA,CAAC,4CAEvC,EAFW,SAEJ,CAAC,CAEP,CAAC,cACN5C,IAAA,CAACH,UAAU,EAACgB,QAAQ,CAAEA,QAAS,CAACF,GAAG,CAAEA,GAAI,CAAE,CAAC,EAC1C,CAAC,CAGX,CAAC,CAED,cAAe,CAAAL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}